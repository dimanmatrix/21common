# s21::multiset - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ](#–∫–æ–Ω—Ü–µ–ø—Ü–∏—è-–∏-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ)
2. [–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç set](#–∫–ª—é—á–µ–≤—ã–µ-–æ—Ç–ª–∏—á–∏—è-–æ—Ç-set)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)
4. [–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏](#–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–∏-–æ—Å–Ω–æ–≤–Ω—ã–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏)
5. [–î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π](#–¥–µ—Ç–∞–ª—å–Ω—ã–π-—Ä–∞–∑–±–æ—Ä-—Ñ—É–Ω–∫—Ü–∏–π)
6. [–†–∞–±–æ—Ç–∞ —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏](#—Ä–∞–±–æ—Ç–∞-—Å-–¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏)
7. [–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã](#–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã)
8. [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏](#—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-–¥—Ä—É–≥–∏–º–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏)
9. [–ó–∞–∫–ª—é—á–µ–Ω–∏–µ](#–∑–∞–∫–ª—é—á–µ–Ω–∏–µ)

---

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**s21::multiset** ‚Äî —ç—Ç–æ **–∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ **–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é **–¥—É–±–ª–∏–∫–∞—Ç–æ–≤**. –≠—Ç–æ –∫–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ set, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.

### –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –º—É–ª—å—Ç–∏–º–Ω–æ–∂–µ—Å—Ç–≤–∞:
```
A = {1, 1, 2, 3, 3, 3, 5}  ‚Üê –≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è
|A| = 7                    ‚Üê –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä (—Å —É—á–µ—Ç–æ–º –¥—É–±–ª–∏–∫–∞—Ç–æ–≤)
|unique(A)| = 4            ‚Üê –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ {1, 2, 3, 5}
count(3) = 3               ‚Üê –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ö–æ–∂–¥–µ–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç–∞ 3
```

### –ö–ª—é—á–µ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:
‚úÖ **–î—É–±–ª–∏–∫–∞—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã** ‚Äî –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** ‚Äî –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä—É  
‚úÖ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚Äî O(log n) –¥–ª—è –ø–æ–∏—Å–∫–∞, –≤—Å—Ç–∞–≤–∫–∏, —É–¥–∞–ª–µ–Ω–∏—è  
‚úÖ **–ü–æ–¥—Å—á–µ—Ç –≤—Ö–æ–∂–¥–µ–Ω–∏–π** ‚Äî –º–µ—Ç–æ–¥ count() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤  
‚úÖ **–î–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚Äî equal_range() –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥—Ä—É–ø–ø–∞–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤  

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å multiset:
üìä **–ü–æ–¥—Å—á–µ—Ç —á–∞—Å—Ç–æ—Ç—ã** ‚Äî –ø–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤  
üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è –¥–∞–Ω–Ω—ã–º–∏  
üéµ **–ú—É–ª—å—Ç–∏–º–Ω–æ–∂–µ—Å—Ç–≤–∞** ‚Äî –∫–æ–≥–¥–∞ –≤–∞–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –∏ –¥–æ–ø—É—Å—Ç–∏–º—ã –¥—É–±–ª–∏–∫–∞—Ç—ã  
üìã **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏** ‚Äî —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞  
üéØ **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞–º–∏  

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
```cpp
s21::multiset<int> grades{85, 92, 85, 78, 92, 85}; // –û—Ü–µ–Ω–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
s21::multiset<std::string> words;                  // –ß–∞—Å—Ç–æ—Ç–∞ —Å–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ  
s21::multiset<double> sensor_data;                 // –ü–æ–∫–∞–∑–∞–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤
s21::multiset<char> letter_frequency;              // –ß–∞—Å—Ç–æ—Ç–∞ –±—É–∫–≤
s21::multiset<int> dice_rolls{1,2,2,3,3,3,4,5,6}; // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—Ä–æ—Å–∫–æ–≤
```

---

## üîÄ –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç set

### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | s21::set | s21::multiset |
|----------------|----------|---------------|
| **–î—É–±–ª–∏–∫–∞—Ç—ã** | ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω—ã | ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω—ã |
| **insert() –≤–æ–∑–≤—Ä–∞—Ç** | `std::pair<iterator, bool>` | `iterator` (–≤—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–æ) |
| **insert() –ø–æ–≤–µ–¥–µ–Ω–∏–µ** | –û—Ç–∫–ª–æ–Ω—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã | –í—Å–µ–≥–¥–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç |
| **count() —Ä–µ–∑—É–ª—å—Ç–∞—Ç** | 0 –∏–ª–∏ 1 | –õ—é–±–æ–µ –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ |
| **erase(key) —Ä–µ–∑—É–ª—å—Ç–∞—Ç** | –£–¥–∞–ª—è–µ—Ç –º–∞–∫—Å–∏–º—É–º 1 —ç–ª–µ–º–µ–Ω—Ç | –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã |
| **equal_range() —Ä–∞–∑–º–µ—Ä** | –ú–∞–∫—Å–∏–º—É–º 1 —ç–ª–µ–º–µ–Ω—Ç | –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ |
| **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ** | –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ | –ß–∞—Å—Ç–æ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ |

### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ—Ç–ª–∏—á–∏–π:

```cpp
// ========== SET ==========
s21::set<int> unique_set;
auto result1 = unique_set.insert(5);  // {5}, result: (iter, true)
auto result2 = unique_set.insert(5);  // {5}, result: (iter, false) - –¥—É–±–ª–∏–∫–∞—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω
unique_set.size();                    // 1

// ========== MULTISET ==========  
s21::multiset<int> multi_set;
auto iter1 = multi_set.insert(5);     // {5}
auto iter2 = multi_set.insert(5);     // {5, 5} - –¥—É–±–ª–∏–∫–∞—Ç –ø—Ä–∏–Ω—è—Ç
multi_set.size();                     // 2
multi_set.count(5);                   // 2 - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

### –ë–∞–∑–æ–≤–æ–µ –∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

Multiset –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ –∫—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω—ã–π **RedBlackTree**, –Ω–æ —Å –∫–ª—é—á–µ–≤–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å—é ‚Äî –≤–º–µ—Å—Ç–æ `insert()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **`insert_multi()`**, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ–≥–¥–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ —Ç–∞–∫–æ–π –∫–ª—é—á —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          s21::multiset              ‚îÇ  ‚Üê –ü—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ        KeyOfValue —Ñ—É–Ω–∫—Ç–æ—Ä           ‚îÇ  ‚Üê –≠–ª–µ–º–µ–Ω—Ç = –∫–ª—é—á (–∫–∞–∫ –≤ set)
‚îÇ        return value;                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ    RedBlackTree<Key, Key> +         ‚îÇ  ‚Üê –î–µ—Ä–µ–≤–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
‚îÇ    insert_multi() –ø–æ–¥–¥–µ—Ä–∂–∫–∞         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ      –£–∑–ª—ã —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏             ‚îÇ  ‚Üê –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

---

## üíª –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ C++ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç set

```cpp
template <typename Key, typename Compare = std::less<Key>>
class multiset {
public:
    using key_type = Key;
    using value_type = Key;
    using key_compare = Compare;
    using value_compare = Compare;
    
    // –¢–æ—Ç –∂–µ KeyOfValue —á—Ç–æ –∏ —É set
    struct KeyOfValue {
        const Key& operator()(const Key& value) const {
            return value;
        }
    };
    
    using tree_type = RedBlackTree<Key, Key, KeyOfValue, Compare>;
    
    // –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ: –≤—Å–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã const (–∫–∞–∫ —É set)
    using iterator = typename tree_type::const_iterator;
    using const_iterator = typename tree_type::const_iterator;
};
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è insert —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

```cpp
// –ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç set - –∏—Å–ø–æ–ª—å–∑—É–µ–º insert_multi –≤–º–µ—Å—Ç–æ insert_unique
iterator insert(const value_type& value) {
    return tree_.insert_multi(value);  // –í—Å–µ–≥–¥–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç iterator
}

// –í RedBlackTree::insert_multi():
iterator insert_multi(const value_type& value) {
    Node* parent = nil_;
    Node* current = root_;
    
    // –ü–æ–∏—Å–∫ –º–µ—Å—Ç–∞ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ (—Ä–∞–∑—Ä–µ—à–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã!)
    while (current != nil_) {
        parent = current;
        if (comp_(key_of_value_(value), key_of_value_(current->data))) {
            current = current->left;
        } else {
            // –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ: –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ!
            // –î—É–±–ª–∏–∫–∞—Ç—ã –∏–¥—É—Ç –≤ –ø—Ä–∞–≤–æ–µ –ø–æ–¥–¥–µ—Ä–µ–≤–æ
            current = current->right;
        }
    }
    
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –∫—Ä–∞—Å–Ω—ã–π —É–∑–µ–ª
    Node* new_node = new Node(value);
    new_node->color = RED;
    new_node->parent = parent;
    new_node->left = new_node->right = nil_;
    
    // –í—Å—Ç–∞–≤–ª—è–µ–º –≤ –¥–µ—Ä–µ–≤–æ
    if (parent == nil_) {
        root_ = new_node;
    } else if (comp_(key_of_value_(value), key_of_value_(parent->data))) {
        parent->left = new_node;
    } else {
        parent->right = new_node;
    }
    
    insert_fixup(new_node);  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–≤–æ–π—Å—Ç–≤–∞ RB-–¥–µ—Ä–µ–≤–∞
    ++size_;
    
    return iterator(new_node, this);
}
```

### –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è count()

```cpp
size_type count(const key_type& key) const {
    auto range = equal_range(key);
    
    // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –∏—Å–ø–æ–ª—å–∑—É–µ–º std::distance –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞
    return std::distance(range.first, range.second);
    
    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –æ–±—Ö–æ–¥:
    // size_type count = 0;
    // for (auto it = range.first; it != range.second; ++it) {
    //     ++count;
    // }
    // return count;
}
```

### –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π equal_range

```cpp
std::pair<const_iterator, const_iterator> equal_range(const key_type& key) const {
    // –ù–∞—Ö–æ–¥–∏–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç >= key (lower_bound)
    Node* lower = lower_bound_node(key);
    
    // –ù–∞—Ö–æ–¥–∏–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç > key (upper_bound)  
    Node* upper = upper_bound_node(key);
    
    return std::make_pair(const_iterator(lower, this), 
                         const_iterator(upper, this));
}

// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –æ–¥–Ω—É –∏—Ç–µ—Ä–∞—Ü–∏—é
std::pair<const_iterator, const_iterator> equal_range_optimized(const key_type& key) const {
    Node* current = root_;
    Node* lower_result = nil_;
    Node* upper_result = nil_;
    
    while (current != nil_) {
        if (comp_(key_of_value_(current->data), key)) {
            // current->data < key, –∏–¥–µ–º –≤–ø—Ä–∞–≤–æ
            current = current->right;
        } else if (comp_(key, key_of_value_(current->data))) {
            // key < current->data, —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª –º–æ–∂–µ—Ç –±—ã—Ç—å upper_bound
            upper_result = current;
            current = current->left;
        } else {
            // key == current->data, –Ω–∞–π–¥–µ–Ω —ç–ª–µ–º–µ–Ω—Ç
            // –ò—â–µ–º –Ω–∞—á–∞–ª–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –≤ –ª–µ–≤–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ
            Node* left_search = current->left;
            while (left_search != nil_) {
                if (comp_(key_of_value_(left_search->data), key)) {
                    left_search = left_search->right;
                } else {
                    lower_result = left_search;
                    left_search = left_search->left;
                }
            }
            if (lower_result == nil_) lower_result = current;
            
            // –ò—â–µ–º –∫–æ–Ω–µ—Ü –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –≤ –ø—Ä–∞–≤–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ
            Node* right_search = current->right;  
            while (right_search != nil_) {
                if (comp_(key, key_of_value_(right_search->data))) {
                    upper_result = right_search;
                    right_search = right_search->left;
                } else {
                    right_search = right_search->right;
                }
            }
            
            break;
        }
    }
    
    return std::make_pair(const_iterator(lower_result, this),
                         const_iterator(upper_result, this));
}
```

### Exception Safety –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏

```cpp
// Strong exception safety –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
void erase(const_iterator pos) {
    if (pos == end()) return;
    
    Node* node_to_delete = pos.node_;
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è rollback (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
    Node backup = *node_to_delete;
    
    try {
        tree_.erase_node(node_to_delete);
        --size_;
    } catch (...) {
        // –í —Å–ª—É—á–∞–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —É–∑–µ–ª —É–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω
        // –ü–æ–ª–Ω—ã–π rollback —Å–ª–æ–∂–µ–Ω, –ø–æ—ç—Ç–æ–º—É –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º basic safety
        throw;
    }
}

// Basic exception safety –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≤—Å–µ—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
size_type erase(const key_type& key) {
    auto range = equal_range(key);
    size_type count = 0;
    
    // –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —É–∑–ª—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
    std::vector<Node*> nodes_to_delete;
    for (auto it = range.first; it != range.second; ++it) {
        nodes_to_delete.push_back(it.node_);
        ++count;
    }
    
    // –£–¥–∞–ª—è–µ–º –ø–æ –æ–¥–Ω–æ–º—É (–µ—Å–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ - —á–∞—Å—Ç—å —É–¥–∞–ª–∏—Ç—Å—è)
    for (Node* node : nodes_to_delete) {
        try {
            tree_.erase_node(node);
            --size_;
        } catch (...) {
            // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —É–¥–∞–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —É–∑–ª–æ–≤
            // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –≤–∞–ª–∏–¥–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
        }
    }
    
    return count;
}
```

### Template optimization –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

```cpp
// –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è trivially copyable —Ç–∏–ø–æ–≤
template<typename T>
typename std::enable_if_t<std::is_trivially_copyable_v<T>, void>
bulk_insert(std::initializer_list<T> values) {
    // –î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–∏–ø–æ–≤ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
    tree_.reserve_approximate(values.size());  // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞–º—è—Ç–∏
    
    for (const auto& value : values) {
        tree_.insert_multi_fast(value);  // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞
    }
}

// –û–±—â–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π
template<typename T>
typename std::enable_if_t<!std::is_trivially_copyable_v<T>, void>
bulk_insert(std::initializer_list<T> values) {
    for (const auto& value : values) {
        try {
            tree_.insert_multi(value);
        } catch (...) {
            // –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º exception safety
            throw;
        }
    }
}
```

### Memory layout —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏

```cpp
// –ü—Ä–∏–º–µ—Ä —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ –¥–µ—Ä–µ–≤–µ:
//
//         [5B]
//        /    \
//    [3R]      [8B]
//   /  \       /   \
// [1B] [5R]  [7R] [9R]
//      /
//   [5B]
//
// –≠–ª–µ–º–µ–Ω—Ç 5 –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è 3 —Ä–∞–∑–∞: –≤ –∫–æ—Ä–Ω–µ, –≤ –ø—Ä–∞–≤–æ–º –ø–æ—Ç–æ–º–∫–µ 3, –∏ –≤ –ª–µ–≤–æ–º –ø–æ—Ç–æ–º–∫–µ –ø–µ—Ä–≤–æ–≥–æ 5
// –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª—É: —Ä–∞–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–¥—É—Ç –≤–ø—Ä–∞–≤–æ

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏ –¥–ª—è multiset<int> —Å 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
// - –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π: 100
// - –î—É–±–ª–∏–∫–∞—Ç–æ–≤: 900  
// - –°—Ä–µ–¥–Ω–∏—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ: 9
// - –†–∞–∑–º–µ—Ä –¥–µ—Ä–µ–≤–∞: 1000 —É–∑–ª–æ–≤ √ó 32 –±–∞–π—Ç–∞ = 32KB
// - –í—ã—Å–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞: ‚â§ 2 √ó log‚ÇÇ(1000) ‚âà 20 —É—Ä–æ–≤–Ω–µ–π
// - –ü–æ–∏—Å–∫ –ª—é–±–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞: ‚â§ 20 —Å—Ä–∞–≤–Ω–µ–Ω–∏–π
```
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ    RedBlackTree::insert_multi()     ‚îÇ  ‚Üê –†–∞–∑—Ä–µ—à–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã!
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   –£–∑–ª—ã –¥–µ—Ä–µ–≤–∞ —Å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è      ‚îÇ  ‚Üê –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ            —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –†–∞–∑–º–µ—â–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –≤ –¥–µ—Ä–µ–≤–µ:

```
–î—É–±–ª–∏–∫–∞—Ç—ã —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –°–ü–†–ê–í–ê –æ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

     [3B]
    /    \
  [1R]   [5R]
          /  \
       [3R]  [7B]  ‚Üê –î—É–±–ª–∏–∫–∞—Ç 3 —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞
               \
              [3R]  ‚Üê –ï—â–µ –æ–¥–∏–Ω –¥—É–±–ª–∏–∫–∞—Ç 3
```

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø–æ—Ä—è–¥–∫–∞ –≤—Å—Ç–∞–≤–∫–∏** —Å—Ä–µ–¥–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤** –ø—Ä–∏ –æ–±—Ö–æ–¥–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å equal_range()** ‚Äî –≤—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –ø–æ–¥—Ä—è–¥

### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (–∏–¥–µ–Ω—Ç–∏—á–Ω—ã set):

```cpp
using key_type = Key;           // –¢–∏–ø –∫–ª—é—á–∞
using value_type = Key;         // value_type == key_type
using reference = value_type&;  
using const_reference = const value_type&;
using size_type = size_t;
using key_compare = Compare;
```

---

## üîß –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã:

```cpp
multiset();                                         // –ü—É—Å—Ç–æ–µ –º—É–ª—å—Ç–∏–º–Ω–æ–∂–µ—Å—Ç–≤–æ
explicit multiset(const Compare& comp);             // –° –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–º  
multiset(std::initializer_list<value_type> items);  // –ò–∑ —Å–ø–∏—Å–∫–∞ (—Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏)
multiset(const multiset& other);                   // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
multiset(multiset&& other) noexcept;               // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û–ø–µ—Ä–∞—Ü–∏–∏ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ multiset |
|-----------|----------|---------------------|
| **–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã** | `begin()`, `end()` | –û–±—Ö–æ–¥ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–∫–ª—é—á–∞—è –¥—É–±–ª–∏–∫–∞—Ç—ã |
| **–†–∞–∑–º–µ—Ä** | `empty()`, `size()`, `max_size()` | size() —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã |
| **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è** | `insert()`, `erase()`, `clear()` | insert() –≤—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–µ–Ω |
| **–ü–æ–∏—Å–∫** | `find()`, `contains()`, **`count()`** | count() –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å > 1 |
| **–î–∏–∞–ø–∞–∑–æ–Ω—ã** | **`equal_range()`**, `lower_bound()`, `upper_bound()` | –†–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ |

### –ù–æ–≤—ã–µ/–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å set:

‚úÖ **`count(key)`** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –¥–∞–Ω–Ω—ã–º –∫–ª—é—á–æ–º  
‚úÖ **`equal_range(key)`** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –≤—Å–µ—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤  
‚úÖ **`insert(value)`** ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä (–≤—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–æ)  
‚úÖ **`erase(key)`** ‚Äî —É–¥–∞–ª—è–µ—Ç **–≤—Å–µ** –¥—É–±–ª–∏–∫–∞—Ç—ã —Å –¥–∞–Ω–Ω—ã–º –∫–ª—é—á–æ–º  

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π

### üèóÔ∏è –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

#### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
```cpp
multiset(std::initializer_list<value_type> const &items) : tree_() {
    for (const auto& item : items) {
        tree_.insert_multi(item);  // ‚ö° –ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ: insert_multi!
    }
}
```
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `insert_multi()` –≤–º–µ—Å—Ç–æ `insert()`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∫–ª—é—á–∞—è –¥—É–±–ª–∏–∫–∞—Ç—ã.

```cpp
s21::multiset<int> numbers = {3, 1, 4, 1, 5, 9, 2, 6, 5};
// –†–µ–∑—É–ª—å—Ç–∞—Ç: {1, 1, 2, 3, 4, 5, 5, 6, 9} - –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!
std::cout << "Size: " << numbers.size(); // 9 (–Ω–µ 7 –∫–∞–∫ –±—ã–ª–æ –±—ã –≤ set)
```

### ‚ûï –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

#### insert() - –≤—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞
```cpp
iterator insert(const value_type& value) {
    return tree_.insert_multi(value);  // –í—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–æ!
}
```
**–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ **–∏—Ç–µ—Ä–∞—Ç–æ—Ä** (–Ω–µ –ø–∞—Ä—É), –ø–æ—Å–∫–æ–ª—å–∫—É –≤—Å—Ç–∞–≤–∫–∞ –≤—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–∞.

```cpp
s21::multiset<int> ms;

auto iter1 = ms.insert(42);  // –í—Å—Ç–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—ã–π 42
auto iter2 = ms.insert(42);  // –í—Å—Ç–∞–≤–ª—è–µ–º –≤—Ç–æ—Ä–æ–π 42 
auto iter3 = ms.insert(42);  // –í—Å—Ç–∞–≤–ª—è–µ–º —Ç—Ä–µ—Ç–∏–π 42

std::cout << ms.size();      // 3
std::cout << ms.count(42);   // 3

// –í—Å–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –≤–∞–ª–∏–¥–Ω—ã –∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Ä–∞–∑–Ω—ã–µ —É–∑–ª—ã!
std::cout << *iter1 << " " << *iter2 << " " << *iter3; // "42 42 42"
```

#### insert() —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π –ø–æ–∑–∏—Ü–∏–∏
```cpp
iterator insert(iterator hint, const value_type& value) {
    (void)hint;  // –ü–æ–¥—Å–∫–∞–∑–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –±–∞–∑–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
    return insert(value);
}
```
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –∏–∑–≤–µ—Å—Ç–Ω–æ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –º–µ—Å—Ç–æ –≤—Å—Ç–∞–≤–∫–∏. –í –¥–∞–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç STL.

#### erase() - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É
```cpp
size_type erase(const key_type& key) { 
    return tree_.erase(key); 
}
```
**–ü–æ–≤–µ–¥–µ–Ω–∏–µ**: –£–¥–∞–ª—è–µ—Ç **–≤—Å–µ** —ç–ª–µ–º–µ–Ω—Ç—ã —Å –¥–∞–Ω–Ω—ã–º –∫–ª—é—á–æ–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö.

```cpp
s21::multiset<int> ms = {1, 2, 2, 2, 3, 4, 4};

size_t removed = ms.erase(2);  // –£–¥–∞–ª—è–µ–º –≤—Å–µ –¥–≤–æ–π–∫–∏
// removed == 3, ms —Å—Ç–∞–ª–æ {1, 3, 4, 4}

size_t not_found = ms.erase(9); // not_found == 0
```

### üîç –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞

#### count() - –ø–æ–¥—Å—á–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
```cpp
size_type count(const Key& key) const { 
    return tree_.count(key); 
}
```
**–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ multiset** ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç–∞.

```cpp
s21::multiset<char> letters = {'a', 'b', 'a', 'c', 'a', 'b'};

std::cout << "a: " << letters.count('a'); // 3
std::cout << "b: " << letters.count('b'); // 2  
std::cout << "c: " << letters.count('c'); // 1
std::cout << "d: " << letters.count('d'); // 0
```

#### equal_range() - –¥–∏–∞–ø–∞–∑–æ–Ω –¥—É–±–ª–∏–∫–∞—Ç–æ–≤  
```cpp
std::pair<iterator, iterator> equal_range(const Key& key) {
    return tree_.equal_range(key);
}
```
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ `[first, last)`, –≥–¥–µ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–≤–Ω—ã –∫–ª—é—á—É.

```cpp
s21::multiset<int> ms = {1, 2, 2, 2, 3, 4};

auto [first, last] = ms.equal_range(2);

// –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –¥—É–±–ª–∏–∫–∞—Ç–∞–º —á–∏—Å–ª–∞ 2
for (auto it = first; it != last; ++it) {
    std::cout << *it << " ";  // –í—ã–≤–æ–¥: "2 2 2"
}

std::cout << "Distance: " << std::distance(first, last); // 3
```

#### lower_bound() –∏ upper_bound()
```cpp
iterator lower_bound(const Key& key) { return tree_.lower_bound(key); }
iterator upper_bound(const Key& key) { return tree_.upper_bound(key); }
```

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è multiset**:
```cpp
s21::multiset<int> ms = {1, 3, 3, 3, 5, 7};

auto lower = ms.lower_bound(3);  // –ò—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –ø–µ—Ä–≤—ã–π 3
auto upper = ms.upper_bound(3);  // –ò—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ 3

// –î–∏–∞–ø–∞–∑–æ–Ω [lower, upper) —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã 3
for (auto it = lower; it != upper; ++it) {
    std::cout << *it << " ";     // –í—ã–≤–æ–¥: "3 3 3"
}
```

### ‚ûï –ë–æ–Ω—É—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### insert_many() –¥–ª—è multiset
```cpp
template <typename... Args>
s21::vector<std::pair<iterator, bool>> insert_many(Args&&... args) {
    s21::vector<std::pair<iterator, bool>> results;
    results.reserve(sizeof...(args));
    
    auto insert_single = [&](auto&& arg) {
        iterator it = insert(std::forward<decltype(arg)>(arg));
        results.push_back(std::make_pair(it, true)); // –í—Å–µ–≥–¥–∞ true!
    };
    
    (insert_single(std::forward<Args>(args)), ...);
    return results;
}
```
**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å**: –í—Å–µ –≤—Å—Ç–∞–≤–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `true` (—É—Å–ø–µ—à–Ω–æ), –ø–æ—Å–∫–æ–ª—å–∫—É multiset –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã.

```cpp
s21::multiset<int> ms;
auto results = ms.insert_many(1, 1, 2, 2, 2, 3);

// –í—Å–µ 6 –≤—Å—Ç–∞–≤–æ–∫ —É—Å–ø–µ—à–Ω—ã, –∏—Ç–æ–≥–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä: 6
for (const auto& [iter, success] : results) {
    std::cout << *iter << ":" << success << " "; // "1:1 1:1 2:1 2:1 2:1 3:1"
}
```

---

## üî¢ –†–∞–±–æ—Ç–∞ —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

#### 1. –ü–æ—Ä—è–¥–æ–∫ –≤—Å—Ç–∞–≤–∫–∏ —Å—Ä–µ–¥–∏ —Ä–∞–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
```cpp
s21::multiset<int> ms;
ms.insert(5);  // –ü–µ—Ä–≤—ã–π 5
ms.insert(3);  // –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π 3  
ms.insert(5);  // –í—Ç–æ—Ä–æ–π 5
ms.insert(5);  // –¢—Ä–µ—Ç–∏–π 5

// –ü–æ—Ä—è–¥–æ–∫ –≤ –¥–µ—Ä–µ–≤–µ: 3, 5‚ÇÅ, 5‚ÇÇ, 5‚ÇÉ
// –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã 5 —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –ø–æ–¥—Ä—è–¥
```

#### 2. –ò—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç—ã:
```cpp
s21::multiset<int> ms = {1, 2, 2, 2, 3};

for (auto it = ms.begin(); it != ms.end(); ++it) {
    std::cout << *it << " ";  // –í—ã–≤–æ–¥: "1 2 2 2 3"
}
// –í—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã –æ–±—Ö–æ–¥—è—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
```

#### 3. –†–∞–±–æ—Ç–∞ —Å –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:
```cpp
s21::multiset<std::string> words = {"apple", "banana", "apple", "cherry", "apple"};

// –ü–æ–¥—Å—á–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–ª–æ–≤–∞
auto apple_count = words.count("apple");  // 3

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≤—Ö–æ–∂–¥–µ–Ω–∏–π
auto [first, last] = words.equal_range("apple");

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–µ–Ω–∏–µ)
words.erase(first, last);  // –£–¥–∞–ª—è–µ–º –≤—Å–µ "apple"
// –†–µ–∑—É–ª—å—Ç–∞—Ç: {"banana", "cherry"}
```

### –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–±–æ—Ç—ã —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏

#### –ß–∞—Å—Ç–æ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑:
```cpp
template<typename T>
void print_frequency(const s21::multiset<T>& ms) {
    auto current = ms.begin();
    
    while (current != ms.end()) {
        T value = *current;
        size_t count = ms.count(value);
        
        std::cout << value << ": " << count << " times\n";
        
        // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
        auto [first, last] = ms.equal_range(value);
        current = last;
    }
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
s21::multiset<char> letters = {'a', 'b', 'a', 'c', 'a', 'b'};
print_frequency(letters);
// –í—ã–≤–æ–¥:
// a: 3 times  
// b: 2 times
// c: 1 times
```

#### –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è:
```cpp
template<typename T>
bool erase_first(s21::multiset<T>& ms, const T& value) {
    auto it = ms.find(value);
    if (it != ms.end()) {
        ms.erase(it);  // –£–¥–∞–ª—è–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç
        return true;
    }
    return false;
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
s21::multiset<int> numbers = {1, 2, 2, 2, 3};
erase_first(numbers, 2);  // numbers —Å—Ç–∞–ª–æ {1, 2, 2, 3}
```

---

## üìñ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ê–Ω–∞–ª–∏–∑ —á–∞—Å—Ç–æ—Ç—ã —Å–ª–æ–≤

```cpp
#include "s21_containers.h" 
#include <iostream>
#include <sstream>
#include <string>

class WordFrequencyAnalyzer {
private:
    s21::multiset<std::string> words_;
    
public:
    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
    void add_text(const std::string& text) {
        std::istringstream iss(text);
        std::string word;
        
        while (iss >> word) {
            // –ü—Ä–∏–≤–æ–¥–∏–º –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏
            std::transform(word.begin(), word.end(), word.begin(), ::tolower);
            words_.insert(word);  // multiset –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ —Å–ª–æ–≤–∞
        }
    }
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–ª–æ–≤–∞
    size_t get_frequency(const std::string& word) const {
        std::string lower_word = word;
        std::transform(lower_word.begin(), lower_word.end(), lower_word.begin(), ::tolower);
        return words_.count(lower_word);
    }
    
    // –¢–æ–ø-N –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã—Ö —Å–ª–æ–≤
    std::vector<std::pair<std::string, size_t>> get_top_words(size_t n = 10) const {
        std::vector<std::pair<std::string, size_t>> result;
        auto current = words_.begin();
        
        while (current != words_.end() && result.size() < n) {
            std::string word = *current;
            size_t count = words_.count(word);
            
            result.emplace_back(word, count);
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É —Å–ª–æ–≤—É
            auto [first, last] = words_.equal_range(word);
            current = last;
        }
        
        // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é —á–∞—Å—Ç–æ—Ç—ã
        std::sort(result.begin(), result.end(), 
                 [](const auto& a, const auto& b) {
                     return a.second > b.second;
                 });
        
        return result;
    }
    
    // –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    void print_statistics() const {
        std::cout << "Total words: " << words_.size() << '\n';
        
        // –ü–æ–¥—Å—á–∏—Ç–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞
        size_t unique_count = 0;
        auto current = words_.begin();
        
        while (current != words_.end()) {
            unique_count++;
            auto [first, last] = words_.equal_range(*current);
            current = last;
        }
        
        std::cout << "Unique words: " << unique_count << '\n';
    }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
WordFrequencyAnalyzer analyzer;
analyzer.add_text("the quick brown fox jumps over the lazy dog the fox is quick");

auto top_words = analyzer.get_top_words(5);
for (const auto& [word, count] : top_words) {
    std::cout << word << ": " << count << " times\n";
}
// –í—ã–≤–æ–¥:
// the: 3 times
// fox: 2 times  
// quick: 2 times
// brown: 1 times
// jumps: 1 times
```

### –ü—Ä–∏–º–µ—Ä 2: –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

```cpp
class GradeManager {
private:
    s21::multiset<int> grades_;
    
public:
    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏
    void add_grade(int grade) {
        if (grade >= 0 && grade <= 100) {
            grades_.insert(grade);
        }
    }
    
    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ—Ü–µ–Ω–æ–∫
    void add_grades(std::initializer_list<int> grade_list) {
        for (int grade : grade_list) {
            add_grade(grade);
        }
    }
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—Ü–µ–Ω–∫–∞–º
    void print_grade_distribution() const {
        std::cout << "Grade Distribution:\n";
        
        // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º
        auto count_range = [this](int min_grade, int max_grade) {
            size_t count = 0;
            for (auto it = grades_.lower_bound(min_grade); 
                 it != grades_.upper_bound(max_grade) && it != grades_.end(); 
                 ++it) {
                count++;
            }
            return count;
        };
        
        std::cout << "A (90-100): " << count_range(90, 100) << '\n';
        std::cout << "B (80-89):  " << count_range(80, 89) << '\n'; 
        std::cout << "C (70-79):  " << count_range(70, 79) << '\n';
        std::cout << "D (60-69):  " << count_range(60, 69) << '\n';
        std::cout << "F (0-59):   " << count_range(0, 59) << '\n';
    }
    
    // –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª
    double get_average() const {
        if (grades_.empty()) return 0.0;
        
        int sum = 0;
        for (int grade : grades_) {
            sum += grade;
        }
        
        return static_cast<double>(sum) / grades_.size();
    }
    
    // –ú–µ–¥–∏–∞–Ω–∞
    double get_median() const {
        if (grades_.empty()) return 0.0;
        
        auto it = grades_.begin();
        std::advance(it, grades_.size() / 2);
        
        if (grades_.size() % 2 == 0) {
            // –ß–µ—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ - —Å—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –¥–≤—É—Ö —Å—Ä–µ–¥–Ω–∏—Ö
            auto prev_it = it;
            --prev_it;
            return (*prev_it + *it) / 2.0;
        } else {
            // –ù–µ—á–µ—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ - —Å—Ä–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç
            return *it;
        }
    }
    
    // –ú–æ–¥–∞ (–Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç–∞—è –æ—Ü–µ–Ω–∫–∞)
    std::vector<int> get_mode() const {
        if (grades_.empty()) return {};
        
        std::vector<int> modes;
        size_t max_count = 0;
        auto current = grades_.begin();
        
        while (current != grades_.end()) {
            int grade = *current;
            size_t count = grades_.count(grade);
            
            if (count > max_count) {
                max_count = count;
                modes.clear();
                modes.push_back(grade);
            } else if (count == max_count) {
                modes.push_back(grade);
            }
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
            auto [first, last] = grades_.equal_range(grade);
            current = last;
        }
        
        return modes;
    }
    
    // –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ (–ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è)
    bool remove_grade(int grade) {
        auto it = grades_.find(grade);
        if (it != grades_.end()) {
            grades_.erase(it);
            return true;
        }
        return false;
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –æ—Ü–µ–Ω–∫–∏
    void print_all_grades() const {
        std::cout << "All grades: ";
        for (int grade : grades_) {
            std::cout << grade << " ";
        }
        std::cout << '\n';
    }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
GradeManager manager;
manager.add_grades({85, 92, 78, 85, 96, 82, 85, 88, 92, 90});

manager.print_all_grades();        // –í—Å–µ –æ—Ü–µ–Ω–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è
manager.print_grade_distribution(); // –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –±—É–∫–≤–µ–Ω–Ω—ã–º –æ—Ü–µ–Ω–∫–∞–º

std::cout << "Average: " << manager.get_average() << '\n';
std::cout << "Median: " << manager.get_median() << '\n';

auto modes = manager.get_mode();
std::cout << "Mode(s): ";
for (int mode : modes) {
    std::cout << mode << " ";
}
std::cout << '\n';
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏

```cpp
template<typename T, typename Compare = std::less<T>>
class PriorityMultiQueue {
private:
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º greater –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è max-heap –ø–æ–≤–µ–¥–µ–Ω–∏—è
    s21::multiset<T, std::greater<T>> priorities_;
    
public:
    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
    void push(const T& priority) {
        priorities_.insert(priority);
    }
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å –Ω–∞–∏–≤—ã—Å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
    T top() const {
        if (empty()) {
            throw std::runtime_error("Queue is empty");
        }
        return *priorities_.begin(); // –ù–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–≤—ã–π (greater)
    }
    
    // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å –Ω–∞–∏–≤—ã—Å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
    void pop() {
        if (!empty()) {
            auto it = priorities_.begin();
            priorities_.erase(it);  // –£–¥–∞–ª—è–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –∑–∞–¥–∞—á—É
        }
    }
    
    // –†–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏
    size_t size() const {
        return priorities_.size();
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—É—Å—Ç–æ—Ç—ã
    bool empty() const {
        return priorities_.empty();
    }
    
    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á —Å –¥–∞–Ω–Ω—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
    size_t count_priority(const T& priority) const {
        return priorities_.count(priority);
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
    void show_queue() const {
        std::cout << "Priority queue contents: ";
        for (const auto& priority : priorities_) {
            std::cout << priority << " ";
        }
        std::cout << '\n';
    }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
PriorityMultiQueue<int> task_queue;

// –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–∞—á–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ (–±–æ–ª—å—à–µ = –≤—ã—à–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
task_queue.push(5);  // –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç  
task_queue.push(10); // –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
task_queue.push(1);  // –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
task_queue.push(10); // –ï—â–µ –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞ —Å –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
task_queue.push(5);  // –ï—â–µ –æ–¥–Ω–∞ —Å–æ —Å—Ä–µ–¥–Ω–∏–º

task_queue.show_queue(); // "10 10 5 5 1" - –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ —É–±—ã–≤–∞–Ω–∏—é

std::cout << "Tasks with priority 10: " << task_queue.count_priority(10) << '\n'; // 2

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
while (!task_queue.empty()) {
    std::cout << "Processing task with priority: " << task_queue.top() << '\n';
    task_queue.pop();
}
// –í—ã–≤–æ–¥:
// Processing task with priority: 10
// Processing task with priority: 10  
// Processing task with priority: 5
// Processing task with priority: 5
// Processing task with priority: 1
```

### –ü—Ä–∏–º–µ—Ä 4: –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π

```cpp
struct Athlete {
    std::string name;
    double time;  // –í—Ä–µ–º—è –∑–∞–±–µ–≥–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    
    Athlete(const std::string& n, double t) : name(n), time(t) {}
    
    // –û–ø–µ—Ä–∞—Ç–æ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
    bool operator<(const Athlete& other) const {
        return time < other.time;  // –ú–µ–Ω—å—à–µ–µ –≤—Ä–µ–º—è = –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    }
    
    bool operator==(const Athlete& other) const {
        return time == other.time; // –û–¥–∏–Ω–∞–∫–æ–≤–æ–µ –≤—Ä–µ–º—è
    }
};

class RaceResults {
private:
    s21::multiset<Athlete> results_;
    
public:
    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    void add_result(const std::string& name, double time) {
        results_.insert(Athlete(name, time));
    }
    
    // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    void show_results() const {
        std::cout << "Race Results (sorted by time):\n";
        int position = 1;
        
        for (const auto& athlete : results_) {
            std::cout << position++ << ". " << athlete.name 
                     << " - " << athlete.time << "s\n";
        }
    }
    
    // –ü–æ–±–µ–¥–∏—Ç–µ–ª–∏ (–∞—Ç–ª–µ—Ç—ã —Å –Ω–∞–∏–ª—É—á—à–∏–º –≤—Ä–µ–º–µ–Ω–µ–º)
    std::vector<std::string> get_winners() const {
        if (results_.empty()) return {};
        
        std::vector<std::string> winners;
        double best_time = results_.begin()->time;
        
        auto [first, last] = results_.equal_range(Athlete("", best_time));
        
        for (auto it = first; it != last; ++it) {
            winners.push_back(it->name);
        }
        
        return winners;
    }
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞—Ç–ª–µ—Ç–∞
    void show_athlete_stats(const std::string& name) const {
        std::vector<double> athlete_times;
        
        for (const auto& result : results_) {
            if (result.name == name) {
                athlete_times.push_back(result.time);
            }
        }
        
        if (athlete_times.empty()) {
            std::cout << name << " has no recorded results.\n";
            return;
        }
        
        double best = *std::min_element(athlete_times.begin(), athlete_times.end());
        double avg = std::accumulate(athlete_times.begin(), athlete_times.end(), 0.0) / athlete_times.size();
        
        std::cout << name << " statistics:\n";
        std::cout << "  Races: " << athlete_times.size() << '\n';
        std::cout << "  Best time: " << best << "s\n";
        std::cout << "  Average time: " << avg << "s\n";
    }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
RaceResults marathon;

// –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∞—Ç–ª–µ—Ç—ã —É—á–∞—Å—Ç–≤—É—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)
marathon.add_result("Alice", 125.5);
marathon.add_result("Bob", 130.2);  
marathon.add_result("Alice", 123.8);  // –£–ª—É—á—à–∏–ª–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
marathon.add_result("Carol", 128.1);
marathon.add_result("Bob", 128.1);    // –¢–∞–∫–æ–π –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∫ —É Carol
marathon.add_result("Dave", 123.8);   // –¢–∞–∫–æ–π –∂–µ –∫–∞–∫ –ª—É—á—à–∏–π —É Alice

marathon.show_results();
// –í—ã–≤–æ–¥:
// 1. Alice - 123.8s
// 2. Dave - 123.8s  
// 3. Alice - 125.5s
// 4. Carol - 128.1s
// 5. Bob - 128.1s
// 6. Bob - 130.2s

auto winners = marathon.get_winners();
std::cout << "Winners (tied for 1st place): ";
for (const auto& winner : winners) {
    std::cout << winner << " ";
}
// –í—ã–≤–æ–¥: "Alice Dave"

marathon.show_athlete_stats("Alice");
// –í—ã–≤–æ–¥:
// Alice statistics:
//   Races: 2  
//   Best time: 123.8s
//   Average time: 124.65s
```

---

## üÜö –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

### multiset vs set

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | s21::set | s21::multiset |
|----------------|----------|---------------|
| **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å** | –¢–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã | –î—É–±–ª–∏–∫–∞—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã |
| **insert() —Ä–µ–∑—É–ª—å—Ç–∞—Ç** | `pair<iterator, bool>` | `iterator` |
| **count() —Ä–µ–∑—É–ª—å—Ç–∞—Ç** | 0 –∏–ª–∏ 1 | 0, 1, 2, 3... |
| **–†–∞–∑–º–µ—Ä –ø—Ä–∏ –¥—É–±–ª–∏–∫–∞—Ç–∞—Ö** | –ù–µ —Ä–∞—Å—Ç–µ—Ç | –†–∞—Å—Ç–µ—Ç —Å –∫–∞–∂–¥—ã–º –¥—É–±–ª–∏–∫–∞—Ç–æ–º |
| **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ** | –ü—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤—É | –ß–∞—Å—Ç–æ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | –û–¥–∏–Ω–∞–∫–æ–≤–∞—è | –û–¥–∏–Ω–∞–∫–æ–≤–∞—è |

### multiset vs unordered_multiset

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | s21::multiset | std::unordered_multiset |
|----------------|---------------|-------------------------|
| **–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | –ö—Ä–∞—Å–Ω–æ-—á–µ—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ | –•–µ—à-—Ç–∞–±–ª–∏—Ü–∞ |
| **–£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å** | ‚úÖ –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã | ‚ùå –ù–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã |
| **–ü–æ–∏—Å–∫** | O(log n) | O(1) —Å—Ä–µ–¥–Ω–µ–µ |
| **–í—Å—Ç–∞–≤–∫–∞** | O(log n) | O(1) —Å—Ä–µ–¥–Ω–µ–µ |
| **–ò—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ** | –í –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ | –í –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ |
| **equal_range()** | –°–º–µ–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã | –†–∞–∑–±—Ä–æ—Å–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã |

### multiset vs map

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | s21::multiset | s21::map |
|----------------|---------------|----------|
| **–¢–∏–ø —ç–ª–µ–º–µ–Ω—Ç–æ–≤** | `Key` | `pair<const Key, T>` |
| **–î—É–±–ª–∏–∫–∞—Ç—ã –∫–ª—é—á–µ–π** | ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω—ã | ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω—ã |
| **–î–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—é** | –≠–ª–µ–º–µ–Ω—Ç = –∫–ª—é—á | `operator[]`, `at()` |
| **–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** | –ß–∞—Å—Ç–æ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ | –ê—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã |

### multiset vs priority_queue

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | s21::multiset | std::priority_queue |
|----------------|---------------|-------------------|
| **–î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º** | –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã, –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø | –¢–æ–ª—å–∫–æ –∫ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É |
| **–£–¥–∞–ª–µ–Ω–∏–µ** | –õ—é–±–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ | –¢–æ–ª—å–∫–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ |
| **–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | –î–µ—Ä–µ–≤–æ | –ö—É—á–∞ (heap) |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å top()** | O(1) | O(1) |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å pop()** | O(log n) | O(log n) |
| **–ò—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ | ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ |

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ s21::multiset:

‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** ‚Äî –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –¥–∞–Ω–Ω—ã—Ö  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** ‚Äî –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã –≤–∫–ª—é—á–∞—è –¥—É–±–ª–∏–∫–∞—Ç—ã  
‚úÖ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç** ‚Äî O(log n) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤  
‚úÖ **–î–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** ‚Äî —É–¥–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≥—Ä—É–ø–ø–∞–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏** ‚Äî –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –æ–¥–Ω–æ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∏–ª–∏ –≤—Å–µ —Å—Ä–∞–∑—É  

### –ò–¥–µ–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

üìä **–ß–∞—Å—Ç–æ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑** ‚Äî –ø–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç–æ–≤  
üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏  
üéµ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã** ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º  
üèÜ **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π** ‚Äî —É—á–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  
üìã **–ò–Ω–≤–µ–Ω—Ç–∞—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã** ‚Äî –ø–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤  
üéØ **–ú—É–ª—å—Ç–∏–º–Ω–æ–∂–µ—Å—Ç–≤–∞** ‚Äî –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏  

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

‚ùå **–ë–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏** ‚Äî –∫–∞–∂–¥—ã–π –¥—É–±–ª–∏–∫–∞—Ç –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤ –¥–µ—Ä–µ–≤–µ  
‚ùå **–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** ‚Äî –±–æ–ª—å—à–µ –º–µ—Ç–æ–¥–æ–≤ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å set  
‚ùå **–ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã** ‚Äî –Ω–µ–ª—å–∑—è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏  

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:

- **s21::set** ‚Äî –µ—Å–ª–∏ –¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ –Ω—É–∂–Ω—ã
- **std::unordered_multiset** ‚Äî –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ—Ä—è–¥–∫–∞
- **s21::map<Key, size_t>** ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç ‚Üí –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ  
- **s21::vector + sort** ‚Äî –¥–ª—è —Ä–µ–¥–∫–æ –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **std::priority_queue** ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ max-heap —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

---

### üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ multiset** –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ **—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ + –¥—É–±–ª–∏–∫–∞—Ç—ã + –ø–æ–¥—Å—á–µ—Ç —á–∞—Å—Ç–æ—Ç—ã**
2. **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ equal_range()** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ –≤—Å–µ–º–∏ –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ count()** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—Ö–æ–∂–¥–µ–Ω–∏–π
4. **–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ erase(iterator)** –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, `erase(key)` –¥–ª—è –≤—Å–µ—Ö
5. **–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ unordered_multiset** –µ—Å–ª–∏ –ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω, –∞ —Å–∫–æ—Ä–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞

**s21::multiset ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ —Ä–∞–±–æ—Ç—ã —Å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –∏–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –∫–æ–≥–¥–∞ –≤–∞–∂–Ω—ã –∏ –ø–æ—Ä—è–¥–æ–∫, –∏ –¥—É–±–ª–∏–∫–∞—Ç—ã! üöÄ**

---

> üìù **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ s21::multiset –≤ —Ñ–∞–π–ª–µ `src/source/headers/s21_multiset.h` –ø—Ä–æ–µ–∫—Ç–∞ s21_containers. –î–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑—É—á–∏—Ç—å [TREE.md](./TREE.md), [TREE-map.md](./TREE-map.md) –∏ [TREE-set.md](./TREE-set.md).